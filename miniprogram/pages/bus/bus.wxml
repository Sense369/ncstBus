<!--pages/bus/bus.wxml-->
<!-- æ—¥æœŸ -->
<view class="day">
  <view class="day-left" bindtap="dateChangeButton" data-value="-1" style="color:rgba(0, 0, 0, {{font_left_ocp}})">â†</view>
  <view class="day-date">
    <picker mode='date' value="{{curDate}}" start="{{startDate}}" end="{{endDate}}" bindchange="dateChangePicker">
      {{curDate}} ({{curWeek}})</picker>
  </view>
  <view class="day-right" bindtap="dateChangeButton" data-value="1" style="color:rgba(0, 0, 0, {{font_right_ocp}})">â†’</view>
</view>

<!-- è½¦ç«™å -->
<view class="station">
  <view class="stt-ncst">
    <image src="../../images/ncst.png" mode="aspectFit" class="ncst-img"></image>ååŒ—ç†å·¥
  </view>
  <view class="stt-tsxz">
    å”å±±å®¢è¿<image src="../../images/tsxz.png" mode="aspectFit" class="tsxz-img"></image>
  </view>
</view>

<!-- æ—¶åˆ»è¡¨ -->
<view class="time">
  <!-- ååŒ—ç†å·¥ -->
  <view class='time-ncst-bg'>
    <view class="time-ncst" wx:for='{{ncst}}' wx:key='ncst'>
      <view wx:if="{{item.minute_diff >=0 && item.minute_diff <= 30}}" class='bus-ncst-text'>{{item.minute_diff}}min</view>
      <image wx:if="{{(item.minute_diff >=0 && item.minute_diff <= 60)||(item.minute_diff>0 && index==0) }}" src="../../images/ncstBus.png" mode="aspectFit" class="bus-ncst"></image>
      <image wx:elif="{{(item.minute_diff < 0 && item.bus_left <= 87)||(curDate==startDate&& curTime>'18:50')}}" src="../../images/ncstBus.png" mode="aspectFit" class="bus-ncst bus-run" style='--left--:{{item.bus_left}}%'></image>
      <view wx:if='{{ index % 2 == 0 }}' class="time-color1">
        <view style='color: {{item.color}}'>{{item.time}}</view>
      </view>
      <view wx:else class='time-color0'>
        <view style='color: {{item.color}}'>{{item.time}}</view>
      </view>
    </view>
  </view>
  <!-- å”å±±ç»¼åˆå®¢è¿ä¸­å¿ƒ -->
  <view class='time-tsxz-bg'>
    <view class="time-ncst time-tsxz" wx:for='{{ts}}' wx:key='tsxz'>
      <view wx:if="{{item.minute_diff >=0 && item.minute_diff <= 30}}" class='bus-ncst-text bus-tsxz-text'>{{item.minute_diff}}min</view>
      <image wx:if="{{(item.minute_diff >=0 && item.minute_diff <= 60)||(item.minute_diff>0 && index==0)}}" src="../../images/ncstBus.png" mode="aspectFit" class="bus-ncst bus-tsxz"></image>
      <image wx:elif="{{(item.minute_diff < 0 && item.minute_diff > -90)||(curDate==startDate&& curTime>'18:50')}}" src="../../images/ncstBus.png" mode="aspectFit" class="bus-ncst bus-tsxz bus-run" style='--left--:{{item.bus_left}}%'></image>
      <view wx:if='{{index % 2 == 1}}' class='time-color0'>
        <view style='color: {{item.color}}'>{{item.time}}</view>
      </view>
      <view wx:else class='time-color1'>
        <view style='color: {{item.color}}'>{{item.time}}</view>
      </view>
    </view>
  </view>
</view>

<view class="line"></view>

<!-- è´­ç¥¨ -->
<view class="ticket">
  <view class="ticket-bg">
    <view class="circle">
      <view class='circle-box'>
        <view class="circle-item"></view>
      </view>
      <view class='circle-box'>
        <view class="circle-item"></view>
      </view>
      <view class='circle-box'>
        <view class="circle-item"></view>
      </view>
      <view class='circle-box'>
        <view class="circle-item"></view>
      </view>
      <view class='circle-box'>
        <view class="circle-item"></view>
      </view>
    </view>
    <view class="main">
      <image src='../../images/keyunlogo.png' mode="aspectFit" class='keyun'></image>
      <text class="title">ååŒ—ç†å·¥å®¢è¿è½¦ç¥¨</text><text class="title-jd">ï¼ˆæœºæ‰“ï¼‰</text>
      <view class="fpdm">å‘ç¥¨ä»£ç ï¼šNCST-hk313</view>
      <view class="point">NCST<image src='../../images/arrow.png' mode="aspectFit" class="arrow"></image>TSKY</view>
      <view class="table">
        <view class="tr" style="background-color: rgba(0, 0, 0, 0.1)">
          <view class="th">ä¹˜è½¦æ—¥æœŸ</view>
          <view class="th">å‘è½¦æ—¶é—´</view>
          <view class="th">æ£€ç¥¨å£</view>
          <view class="th">è½¦ç‰Œå·</view>
          <view class="th">åº§ä½å·</view>
        </view>
        <view class="tr" style="color: #888888">
          <view class="th th-date">{{curDate}}</view>
          <view class="th">{{curTime}}</view>
          <view class="th">1</view>
          <view class="th">å†€BKJ666</view>
          <view class="th">8</view>
        </view>
        <view class="tr" style="background-color: rgba(0, 0, 0, 0.1)">
          <view class="th th-style">è½¦è¾†è½¦å‹/ç­‰çº§/ç±»åˆ«</view>
          <view class="th">ä¸Šé™ç¥¨ä»·</view>
          <view class="th">å®¢ç¥¨ç±»å‹</view>
          <view class="th">æ‰§è¡Œç¥¨ä»·</view>
        </view>
        <view class="tr" style="color: #888888">
          <view class="th th-style">å¤§å‹é«˜ä¸€/åº§æ¤…</view>
          <view class="th"></view>
          <view class="th">æœªæºç«¥(å…¨)</view>
          <view class="th">20</view>
        </view>
      </view>
    </view>
    <view class="secondary">
      <view class="title title2">å‰¯åˆ¸</view>
      <view class="fpdm2">å‘ç¥¨ä»£ç :NCSThk313</view>
      <image src="../../images/barCode_NCST.png" mode="scaleToFill" class="barCode" show-menu-by-longpress='true'></image>
      <text class="barCode-num">*since 1895*</text>
      <button class="buy" open-type="contact">
        <text>ç‚¹ æˆ‘\n</text>
        <text>è´­ ç¥¨</text>
      </button>
    </view>
    <view class="circle">
      <view class='circle-box'>
        <view class="circle-item"></view>
      </view>
      <view class='circle-box'>
        <view class="circle-item"></view>
      </view>
      <view class='circle-box'>
        <view class="circle-item"></view>
      </view>
      <view class='circle-box'>
        <view class="circle-item"></view>
      </view>
      <view class='circle-box'>
        <view class="circle-item"></view>
      </view>
    </view>
  </view>

</view>

<text class="tip">tip: â€œç‚¹æˆ‘è´­ç¥¨â€åé¡»å›å¤â€œ<text class="tip-1">1</text>â€æˆ–â€œè´­ç¥¨â€ç­‰ä»»æ„å…³é”®å­—</text>

<view class="copyright">CopyrightÂ©{{curYear}} Sang ï½œ<navigator class="about" hover-class="none" url="../../pages/about/about">ğŸ‘‰å…³äºæˆ‘ä»¬</navigator>
</view>
